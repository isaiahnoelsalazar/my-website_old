name: check version list
on:
  workflow_dispatch:
  push:
    branches:
      - 'main'
  pull_request:
    branches:
      - '*'
  release:
    types:
      - published

env:
  DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
  DOTNET_NOLOGO: true

defaults:
  run:
    shell: pwsh

jobs:
  check_versions:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
      with:
        fetch-depth: 0
    - run: |
          foreach($file in (Get-ChildItem "${{ github.workspace }}")) {
              echo $file
          }
    - name: test action
      id: get-version
      uses: beaconbrigade/package-json-version@v0.3.2
      with:
        path: .
